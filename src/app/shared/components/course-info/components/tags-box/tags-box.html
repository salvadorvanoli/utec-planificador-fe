<div class="preview-rect bg-white rounded-lg p-4">
  <div class="preview-header">
    <div class="preview-title">{{ title() }}</div>
    <button 
      class="add-button"
      (click)="openModal()"
      aria-label="Agregar elemento"
      type="button"
    >
      <i class="pi pi-plus"></i>
    </button>
    <div class="preview-sep" aria-hidden="true"></div>
  </div>
  <div class="preview-body mt-3">
    <div class="tags-container">
      @for (tag of tags(); track tag) {
        <span class="tag-item">
          {{ tag }}
          <button 
            class="remove-tag-button"
            (click)="removeTag(tag)"
            aria-label="Eliminar tag"
            type="button"
          >
            <i class="pi pi-times"></i>
          </button>
        </span>
      }
      @empty {
        <p class="text-gray-400 text-sm">No hay elementos disponibles</p>
      }
    </div>
  </div>
</div>

<p-dialog
  [(visible)]="showModal"
  [modal]="true"
  [style]="{ width: '400px' }"
  [draggable]="false"
  [resizable]="false"
>
  <ng-template #header>
    <h3 class="text-lg font-semibold">Agregar {{ title() }}</h3>
  </ng-template>
  
  <div class="dialog-content">
    <app-select 
      class="w-full"
      [options]="enumOptions()"
      [placeholder]="'Seleccionar...'"
      (onSelectionChange)="onSelectChange($event)"
    />
  </div>
  
  <ng-template #footer>
    <div class="flex gap-2 justify-end">
      <p-button 
        label="Cancelar" 
        severity="secondary"
        (onClick)="closeModal()"
      />
      <p-button 
        label="Agregar" 
        (onClick)="addNewTag()"
      />
    </div>
  </ng-template>
</p-dialog>
