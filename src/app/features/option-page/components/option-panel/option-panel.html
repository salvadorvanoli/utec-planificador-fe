<div class="option-panel-container">
  <div class="option-panel-wrapper">
    @if (mainMenu()) {
      <!-- Menú principal con grid de cards -->
      <div class="menu-grid">
        @if (isLoading()) {
          <!-- Skeletons de carga -->
          @for (item of [1, 2, 3]; track item) {
            <div class="menu-card skeleton-card">
              <div class="card-icon">
                <p-skeleton shape="circle" size="4rem"></p-skeleton>
              </div>
              <p-skeleton width="60%" height="1.5rem" styleClass="mb-2"></p-skeleton>
              <p-skeleton width="100%" height="1rem"></p-skeleton>
            </div>
          }
        } @else {
          @if (userType() === 'teacher') {
            <!-- Cards para profesores -->

            <app-option-card
              icon="pi pi-calendar"
              title="Planificador"
              description="Organiza y gestiona tus planificaciones"
              (click)="handleButtonClick('planificador')"
            ></app-option-card>

            <app-option-card
              icon="pi pi-chart-bar"
              title="Panel Estadístico"
              description="Visualiza métricas y análisis de datos"
              (click)="handleButtonClick('estadistico')"
            ></app-option-card>

            <app-option-card
              icon="pi pi-comments"
              title="EduBot"
              description="Chatea para asistencia académica"
              (click)="handleButtonClick('chat')"
            ></app-option-card>
          }

          @if (userType() === 'student') {
            <!-- Card para estudiantes -->
            <app-option-card
              icon="pi pi-book"
              title="Información de Cursos"
              description="Consulta información sobre tus cursos"
              (click)="handleButtonClick('info-cursos')"
            ></app-option-card>
          }

          @if (userType() === 'analyst') {
            <!-- Cards para analistas -->
            <app-option-card
              icon="pi pi-users"
              title="Asignar Cursos"
              description="Asigna docentes a los cursos"
              (click)="handleButtonClick('asignar-cursos')"
            ></app-option-card>

            <app-option-card
              icon="pi pi-plus-circle"
              title="Crear Cursos"
              description="Configura nuevos cursos académicos"
              (click)="handleButtonClick('crear-cursos')"
            ></app-option-card>

            <app-option-card
              icon="pi pi-chart-bar"
              title="Panel Estadístico"
              description="Visualiza métricas y análisis de datos"
              (click)="handleButtonClick('estadistico')"
            ></app-option-card>
          }
        }
      </div>
    } @else {
      <!-- Menú ITR con cards horizontales -->
      <div class="itr-grid">
        @if (isLoading()) {
          <!-- Skeletons de carga para ITR -->
          @for (item of [1, 2, 3, 4]; track item) {
            <div class="itr-card skeleton-itr-card">
              <div class="itr-icon">
                <p-skeleton shape="circle" size="4rem"></p-skeleton>
              </div>
              <div class="itr-content">
                <p-skeleton width="60%" height="1.75rem" styleClass="mb-2"></p-skeleton>
                <p-skeleton width="80%" height="1rem"></p-skeleton>
              </div>
            </div>
          }
        } @else {
          <div class="itr-card" (click)="handleItrClick('suroeste')">
            <div class="itr-icon">
              <i class="pi pi-building"></i>
            </div>
            <div class="itr-content">
              <h3 class="itr-title">Suroeste</h3>
              <p class="itr-subtitle">Instituto Tecnológico Regional</p>
            </div>
          </div>

          <div class="itr-card" (click)="handleItrClick('centro-sur')">
            <div class="itr-icon">
              <i class="pi pi-building"></i>
            </div>
            <div class="itr-content">
              <h3 class="itr-title">Centro-sur</h3>
              <p class="itr-subtitle">Instituto Tecnológico Regional</p>
            </div>
          </div>

          <div class="itr-card" (click)="handleItrClick('este')">
            <div class="itr-icon">
              <i class="pi pi-building"></i>
            </div>
            <div class="itr-content">
              <h3 class="itr-title">Este</h3>
              <p class="itr-subtitle">Instituto Tecnológico Regional</p>
            </div>
          </div>

          <div class="itr-card" (click)="handleItrClick('norte')">
            <div class="itr-icon">
              <i class="pi pi-building"></i>
            </div>
            <div class="itr-content">
              <h3 class="itr-title">Norte</h3>
              <p class="itr-subtitle">Instituto Tecnológico Regional</p>
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>