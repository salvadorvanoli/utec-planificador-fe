<div class="chat-input-container">
  <div class="chat-input-wrapper">
    <div class="textarea-wrapper">
      <textarea
        #textareaRef
        [(ngModel)]="message"
        (keydown)="onKeyDown($event)"
        (input)="onInput()"
        class="chat-input-textarea"
        rows="2"
        aria-label="Escribe tu mensaje"
        placeholder="Escribe tu mensaje..."
        [disabled]="isSending()"
      ></textarea>
    </div>
    <div class="send-button-wrapper">
      <i
        class="pi pi-send chat-input-icon"
        [class.opacity-50]="!message().trim() || isSending()"
        [class.cursor-not-allowed]="!message().trim() || isSending()"
        (click)="onSendClick()"
        aria-label="Enviar mensaje"
      ></i>
    </div>
  </div>
</div>
