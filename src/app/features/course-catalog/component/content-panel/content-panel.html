<div class="flex flex-col gap-5 w-full p-5 pr-0 lg:pt-0">
    <p-toast></p-toast>
    
    <div class="w-full">
      <app-searchbar></app-searchbar>
    </div>

    <div class="flex flex-col gap-5 w-full">
      @if (isLoading()) {
        @for (item of [1, 2, 3]; track item) {
          <div class="flex gap-4 p-5 bg-white rounded-lg shadow-sm border border-gray-200">
            <div class="flex items-center justify-center w-1/5">
              <p-skeleton width="100%" height="120px" borderRadius="8px"></p-skeleton>
            </div>
            
            <div class="flex flex-col gap-3 w-4/5 justify-center">
              <div class="flex gap-4">
                <p-skeleton width="40%" height="24px"></p-skeleton>
                <p-skeleton width="30%" height="20px"></p-skeleton>
              </div>
              
              <p-skeleton width="35%" height="18px"></p-skeleton>
            </div>
          </div>
        }
      } @else if (courses().length === 0) {
        <div class="flex flex-col items-center justify-center py-12 text-gray-500">
          <i class="pi pi-inbox text-6xl mb-4"></i>
          <p class="text-xl font-semibold mb-2">No se encontraron cursos</p>
          <p class="text-sm">Intenta ajustar los filtros para ver m√°s resultados</p>
        </div>
      } @else {
        @for (course of courses(); track course.id) {
          <app-course-card 
            [assign]="false" 
            [docente]="docente()" 
            [course]="course"
            [mode]="mode()"
            (onCourseDeleted)="handleCourseDeleted($event)">
          </app-course-card>
        }
      }
    </div>

    <app-paginator 
      [totalRecords]="totalRecords()"
      [rows]="pageSize()"
      [first]="currentPage() * pageSize()"
      (onPageChange)="onPageChange($event)">
    </app-paginator>
    
    @if (mode() === 'management') {
      <div class="flex justify-center mt-4">
        <button 
          (click)="onCreateCourse()"
          class="flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg">
          <i class="pi pi-plus"></i>
          <span>Crear curso</span>
        </button>
      </div>
    }
</div>
