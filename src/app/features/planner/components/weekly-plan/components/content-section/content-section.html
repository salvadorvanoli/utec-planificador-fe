<div class="w-full flex-none h-full">

  <app-card-container [maxHeight]="'162px'" [hasCards]="contents().length > 0">
    @for (content of contents(); track content.id) {
      <app-content-card 
        [id]="content.id"
        [color]="content.color" 
        [titulo]="content.title" 
        [descripcion]="content.content"
        [isSelected]="selectedContentId() === content.id"
        [isReadOnly]="isReadOnly()"
        (click)="selectContent(content)"
        (onDelete)="handleDelete($event)"
        (onEdit)="handleEdit($event)"
      ></app-content-card>
    }
  </app-card-container>

  @if (!isReadOnly()) {
    <div class="mt-4">
      <div class="w-48 mx-auto">
        <app-button
          label="Agregar contenido"
          [color]="'blue'"
          fontFamily="'UTEC Text Light', Arial, sans-serif"
          fontWeight="300"
          fontSize="1rem"
          style="width:100%;"
          (click)="openModal()"
        ></app-button>
      </div>
    </div>
  }

</div>

<app-add-content
  [visible]="modalVisible()"
  (visibleChange)="modalVisible.set($event)"
  [weeklyPlanningId]="weeklyPlanningId()"
  [contentId]="editingContentId()"
  [isReadOnly]="isReadOnly()"
  (onContentCreated)="handleContentCreated()"
></app-add-content>