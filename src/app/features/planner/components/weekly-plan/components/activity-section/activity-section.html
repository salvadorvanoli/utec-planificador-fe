<div class="w-full flex-none h-full">
  @if (showActivities()) {
    <div class="w-full flex-none h-full">
      <div class="mx-auto flex flex-col activity-section-container">
        @if (activities().length > 0) {
          @for (activity of activities(); track activity.id) {
            <app-activity-bullet  
              [id]="activity.id"
              [title]="activity.title + ' â€“ ' + activity.durationInMinutes + ' minutos'"  
              [content]="activity.description"  
              [colour]="activity.color"
              (onDelete)="handleDelete($event)"
              (onEdit)="handleEdit($event)">  
            </app-activity-bullet>
          }
        } @else {
          <div class="text-center text-gray-500 italic p-4">
            No hay actividades para este contenido
          </div>
        }
      </div>
      
      <div class="mt-4">
        <div class="w-48 mx-auto">
          <app-button
            label="Agregar actividad"
            [color]="'blue'"
            fontFamily="'UTEC Text Light', Arial, sans-serif"
            fontWeight="300"
            fontSize="1rem"
            style="width:100%;"
            (click)="openModal()"
          ></app-button>
        </div>
      </div>
    </div>
  } @else {
    <div class="w-full flex-none h-full flex items-center justify-center">
      <div class="text-center text-gray-400 p-8">
        <i class="pi pi-arrow-left text-4xl mb-2"></i>
        <p class="text-lg">Selecciona un contenido para ver sus actividades</p>
      </div>
    </div>
  }
</div>

@if (programmaticContentId() !== null) {
  <app-add-activity
    [visible]="modalVisible()"
    (visibleChange)="modalVisible.set($event)"
    [programmaticContentId]="programmaticContentId()!"
    [activityId]="editingActivityId()"
    (onActivityCreated)="handleActivityCreated()"
  ></app-add-activity>
}